import{u as w,j as e}from"./index-TpXOSP4A.js";import{r as a}from"./vendor-DTxvXAp4.js";const x="http://localhost:5001/api",y=({setAuth:u})=>{const[r,p]=a.useState(""),[n,h]=a.useState(""),[i,o]=a.useState(null),[l,d]=a.useState(!1),m=w(),g=async t=>{if(t.preventDefault(),o(null),!r||!n){o("Both username and password are required.");return}try{d(!0);const s=await fetch(`${x}/auth/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:n})}),c=await s.json();if(!s.ok)throw s.status===400?new Error("Invalid username or password."):s.status===500?new Error("Server error. Please try again later."):new Error(c.message||"Login failed.");localStorage.setItem("token",c.token),u(!0),m("/")}catch(s){o(s.message||"An unexpected error occurred.")}finally{d(!1)}};return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsxs("form",{onSubmit:g,className:"p-6 bg-white rounded shadow-md w-full max-w-sm",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-4 whitespace-pre-line",children:["ΣΥΝΔΕΣΗ",`
`,"LOGIN"]}),i&&e.jsx("p",{className:"text-red-500 mb-4",children:i}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-gray-700 whitespace-pre-line",children:["ΟΝΟΜΑ ΧΡΗΣΤΗ",`
`,"USERNAME"]}),e.jsx("input",{type:"text",value:r,onChange:t=>p(t.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:`Εισάγετε όνομα χρήστη
Enter username`,required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-gray-700 whitespace-pre-line",children:["ΚΩΔΙΚΟΣ",`
`,"PASSWORD"]}),e.jsx("input",{type:"password",value:n,onChange:t=>h(t.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:`Εισάγετε κωδικό
Enter password`,required:!0})]}),e.jsx("button",{type:"submit",className:`w-full p-2 rounded whitespace-pre-line ${l?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,disabled:l,children:l?"Loading...":`ΣΥΝΔΕΣΗ
LOGIN`})]})})};export{y as default};
